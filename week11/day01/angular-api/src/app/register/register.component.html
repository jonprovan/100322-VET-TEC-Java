<main>

    <h2>REGISTER NOW!</h2>

    <!-- first name, last name, email, password -->

    <form [formGroup]="registrationForm" class="registrationForm">

        <label for="firstName" class="formLabel">First Name</label>
        <input type="text" 
               formControlName="firstName" 
               class="formField" 
               name="firstName" 
               id="firstName" 
               placeholder="Enter first name...">
        <p class="invalid" *ngIf="firstName!.invalid && (firstName!.touched || firstName!.dirty)">
            <span *ngIf="firstName!.errors?.['required']">First Name is required!</span>
            <span *ngIf="firstName!.errors?.['minlength'] 
                      || firstName!.errors?.['maxlength']">First Name must be 3-20 characters!</span>
        </p>

        <label for="lastName" class="formLabel">Last Name</label>
        <input type="text" 
               formControlName="lastName" 
               class="formField" 
               name="lastName" 
               id="lastName" 
               placeholder="Enter last name...">
        <p class="invalid" *ngIf="lastName!.invalid && (lastName!.touched || lastName!.dirty)">
            <span *ngIf="lastName!.errors?.['required']">Last Name is required!</span>
            <span *ngIf="lastName!.errors?.['minlength'] 
                      || lastName!.errors?.['maxlength']">Last Name must be 3-20 characters!</span>
        </p>

        <label for="email" class="formLabel">E-Mail</label>
        <input type="text" 
               formControlName="email" 
               class="formField" 
               name="email" 
               id="email" 
               placeholder="Enter e-mail...">
        <p class="invalid" *ngIf="email!.invalid && (email!.touched || email!.dirty)">
            <span *ngIf="email!.errors?.['required']">E-Mail is required!</span>
            <span *ngIf="email!.errors?.['email']">Must be a valid e-mail address!</span>
        </p>

        <label for="password" class="formLabel">Password</label>
        <input type="password" 
               formControlName="password" 
               class="formField" 
               name="password" 
               id="password" 
               placeholder="Enter password..."
               (change)="checkPasswords()">
        <p class="invalid" *ngIf="password!.invalid && (password!.touched || password!.dirty)">
            <span *ngIf="password!.errors?.['required']">Password is required!</span>
            <span *ngIf="password!.errors?.['minlength'] 
                      || password!.errors?.['maxlength']">Password must be exactly 8 characters!</span>
        </p>

        <label for="confirmPassword" class="formLabel">Confirm Password</label>
        <input type="password" 
               formControlName="confirmPassword" 
               class="formField" 
               name="confirmPassword" 
               id="confirmPassword" 
               placeholder="Confirm password..."
               (change)="checkPasswords()">
        <p class="invalid" *ngIf="(confirmPassword!.invalid || !passwordsMatch) && (confirmPassword!.touched || confirmPassword!.dirty)">
            <!-- <span *ngIf="confirmPassword!.errors?.['required']">Password confirmation is required!</span>
            <span *ngIf="confirmPassword!.errors?.['minlength'] 
                      || confirmPassword!.errors?.['maxlength']">Password confirmation must be exactly 8 characters!</span> -->
            <span *ngIf="!passwordsMatch">Passwords must match!</span>
        </p>

        <button type="submit" (click)="onSubmit()" [disabled]="registrationForm.invalid || !passwordsMatch" class="submitButton">REGISTER</button>

    </form>

    <p>{{ envTestVariable }}</p>

    <div>
        <h3>Data From Form</h3>
        <p>First Name: {{ formTest.firstName }}</p>
        <p>Last Name: {{ formTest.lastName }}</p>
        <p>E-Mail: {{ formTest.email }}</p>
        <p>Password: {{ formTest.password }}</p>
        <p>Confirm Password: {{ formTest.confirmPassword }}</p>
    </div>

</main>